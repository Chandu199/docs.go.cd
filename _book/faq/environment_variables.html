
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Using Environment variables Â· GoCD User Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="Using environment variables in GoCD">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../resources/stylesheets/website.css">
        
    

        
<meta content="environment variable, GoCD configuration, GoCD tasks, custom command, shell-script, ruby script," name="keywords" />
    <link rel="canonical" href="https://docs.gocd.org/current/faq/environment_variables.html"/>
    <script async src="resources/javascripts/_gdpr-banner.js" type="text/javascript"></script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://www.gocd.org" target="_blank" class="custom-link">Back to GoCD.org</a>
        </li>
    
        
        <li>
            <a href="https://github.com/gocd/docs.go.cd/" target="_blank" class="custom-link">Contribute</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/">
            
                <a href="../introduction/">
            
                    
                    Concepts In GoCD
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../introduction/concepts_in_go.html">
            
                <a href="../introduction/concepts_in_go.html">
            
                    
                    Concepts in GoCD
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../navigation/">
            
                <a href="../navigation/">
            
                    
                    GoCD Tour
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../navigation/pipelines_dashboard_page.html">
            
                <a href="../navigation/pipelines_dashboard_page.html">
            
                    
                    Pipeline Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../navigation/agents_page.html">
            
                <a href="../navigation/agents_page.html">
            
                    
                    Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../navigation/agent_details.html">
            
                <a href="../navigation/agent_details.html">
            
                    
                    Agent Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../navigation/pipeline_activity_page.html">
            
                <a href="../navigation/pipeline_activity_page.html">
            
                    
                    Pipeline Activity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../navigation/stage_details_page.html">
            
                <a href="../navigation/stage_details_page.html">
            
                    
                    Stage Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../navigation/job_details_page.html">
            
                <a href="../navigation/job_details_page.html">
            
                    
                    Job Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../navigation/administration_page.html">
            
                <a href="../navigation/administration_page.html">
            
                    
                    Administration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../navigation/server_details_page.html">
            
                <a href="../navigation/server_details_page.html">
            
                    
                    Server Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../navigation/environments_page.html">
            
                <a href="../navigation/environments_page.html">
            
                    
                    Environments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../navigation/value_stream_map.html">
            
                <a href="../navigation/value_stream_map.html">
            
                    
                    Value Stream Map
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../installation/">
            
                <a href="../installation/">
            
                    
                    Installing GoCD
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../installation/system_requirements.html">
            
                <a href="../installation/system_requirements.html">
            
                    
                    System requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../installation/installing_go_server.html">
            
                <a href="../installation/installing_go_server.html">
            
                    
                    Installing GoCD Server
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../installation/install/server/linux.html">
            
                <a href="../installation/install/server/linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../installation/install/server/windows.html">
            
                <a href="../installation/install/server/windows.html">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../installation/install/server/osx.html">
            
                <a href="../installation/install/server/osx.html">
            
                    
                    Mac OS X
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../installation/install/server/zip.html">
            
                <a href="../installation/install/server/zip.html">
            
                    
                    Generic Zip
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../installation/installing_go_agent.html">
            
                <a href="../installation/installing_go_agent.html">
            
                    
                    Installing GoCD Agent
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../installation/install/agent/linux.html">
            
                <a href="../installation/install/agent/linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../installation/install/agent/windows.html">
            
                <a href="../installation/install/agent/windows.html">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../installation/install/agent/osx.html">
            
                <a href="../installation/install/agent/osx.html">
            
                    
                    Mac OS X
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../installation/install/agent/zip.html">
            
                <a href="../installation/install/agent/zip.html">
            
                    
                    Generic Zip
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../installation/upgrading_go.html">
            
                <a href="../installation/upgrading_go.html">
            
                    
                    Upgrading GoCD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../installation/configuring_server_details.html">
            
                <a href="../installation/configuring_server_details.html">
            
                    
                    Configuring Server Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../installation/configure-reverse-proxy.html">
            
                <a href="../installation/configure-reverse-proxy.html">
            
                    
                    Configure a Reverse Proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../installation/configure-agent-proxy.html">
            
                <a href="../installation/configure-agent-proxy.html">
            
                    
                    Configure an agent with proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../installation/ssl_tls_config.html">
            
                <a href="../installation/ssl_tls_config.html">
            
                    
                    Configuring SSL/TLS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.8.1" data-path="../installation/ssl_tls/setting_up_ciphers.html">
            
                <a href="../installation/ssl_tls/setting_up_ciphers.html">
            
                    
                    Customizing Ciphers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.2" data-path="../installation/ssl_tls/custom_server_certificate.html">
            
                <a href="../installation/ssl_tls/custom_server_certificate.html">
            
                    
                    Change SSL Certificates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8.3" data-path="../installation/ssl_tls/end_to_end_transport_security.html">
            
                <a href="../installation/ssl_tls/end_to_end_transport_security.html">
            
                    
                    End to end transport security
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../installation/performance_tuning.html">
            
                <a href="../installation/performance_tuning.html">
            
                    
                    Performance Tuning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../installation/hardware_specifications.html">
            
                <a href="../installation/hardware_specifications.html">
            
                    
                    Hardware Specifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../installation/troubleshooting.html">
            
                <a href="../installation/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../configuration/">
            
                <a href="../configuration/">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../configuration/quick_pipeline_setup.html">
            
                <a href="../configuration/quick_pipeline_setup.html">
            
                    
                    Setup a New Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../configuration/managing_pipelines.html">
            
                <a href="../configuration/managing_pipelines.html">
            
                    
                    Managing Pipelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../configuration/managing_dependencies.html">
            
                <a href="../configuration/managing_dependencies.html">
            
                    
                    Managing Dependencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../configuration/managing_a_build_cloud.html">
            
                <a href="../configuration/managing_a_build_cloud.html">
            
                    
                    Managing Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../configuration/managing_environments.html">
            
                <a href="../configuration/managing_environments.html">
            
                    
                    Managing Environments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../configuration/build_labelling.html">
            
                <a href="../configuration/build_labelling.html">
            
                    
                    Pipeline Labelling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../configuration/pipeline_scheduling.html">
            
                <a href="../configuration/pipeline_scheduling.html">
            
                    
                    Pipeline Scheduling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../configuration/admin_use_parameters_in_configuration.html">
            
                <a href="../configuration/admin_use_parameters_in_configuration.html">
            
                    
                    Parameterize a Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../configuration/admin_use_custom_pipeline_label.html">
            
                <a href="../configuration/admin_use_custom_pipeline_label.html">
            
                    
                    Customize a Pipeline Label
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../configuration/admin_clone_pipeline.html">
            
                <a href="../configuration/admin_clone_pipeline.html">
            
                    
                    Clone a Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../configuration/admin_lock_pipelines.html">
            
                <a href="../configuration/admin_lock_pipelines.html">
            
                    
                    Lock a Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../configuration/admin_add_material.html">
            
                <a href="../configuration/admin_add_material.html">
            
                    
                    Add Material to Existing Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../configuration/admin_add_stage.html">
            
                <a href="../configuration/admin_add_stage.html">
            
                    
                    Add Stage to Existing Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../configuration/admin_add_job.html">
            
                <a href="../configuration/admin_add_job.html">
            
                    
                    Add job to Existing Stage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../configuration/admin_add_task.html">
            
                <a href="../configuration/admin_add_task.html">
            
                    
                    Add task to Existing Job
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.16" data-path="../configuration/pipeline_templates.html">
            
                <a href="../configuration/pipeline_templates.html">
            
                    
                    Pipeline Templates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17" data-path="../configuration/elastic_agents.html">
            
                <a href="../configuration/elastic_agents.html">
            
                    
                    Elastic Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.18" data-path="../configuration/dev_choose_when_stage_runs.html">
            
                <a href="../configuration/dev_choose_when_stage_runs.html">
            
                    
                    Choose When a Stage Runs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.19" data-path="../configuration/admin_timer.html">
            
                <a href="../configuration/admin_timer.html">
            
                    
                    Timer Trigger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.20" data-path="../configuration/job_timeout.html">
            
                <a href="../configuration/job_timeout.html">
            
                    
                    Job Timeout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.21" data-path="../configuration/managing_users.html">
            
                <a href="../configuration/managing_users.html">
            
                    
                    Managing Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.22" data-path="../configuration/dev_authentication.html">
            
                <a href="../configuration/dev_authentication.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.23" data-path="../configuration/dev_authorization.html">
            
                <a href="../configuration/dev_authorization.html">
            
                    
                    Authorizing Users
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.24" data-path="../configuration/delegating_group_administration.html">
            
                <a href="../configuration/delegating_group_administration.html">
            
                    
                    Delegating Group Administration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.25" data-path="../configuration/pipeline_group_admin_config.html">
            
                <a href="../configuration/pipeline_group_admin_config.html">
            
                    
                    Pipeline Group Administration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.26" data-path="../configuration/dev_upload_test_report.html">
            
                <a href="../configuration/dev_upload_test_report.html">
            
                    
                    Publish Reports and Artifacts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.27" data-path="../configuration/managing_artifacts_and_reports.html">
            
                <a href="../configuration/managing_artifacts_and_reports.html">
            
                    
                    Managing Artifacts and Reports
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.28" data-path="../configuration/delete_artifacts.html">
            
                <a href="../configuration/delete_artifacts.html">
            
                    
                    Auto Delete Artifacts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.29" data-path="../configuration/ui_testing.html">
            
                <a href="../configuration/ui_testing.html">
            
                    
                    UI Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.30" data-path="../configuration/admin_mailhost_info.html">
            
                <a href="../configuration/admin_mailhost_info.html">
            
                    
                    Mailhost Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.31" data-path="../configuration/dev_notifications.html">
            
                <a href="../configuration/dev_notifications.html">
            
                    
                    Notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.32" data-path="../configuration/tfs_config.html">
            
                <a href="../configuration/tfs_config.html">
            
                    
                    TFS Material configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.33" data-path="../configuration/configuration_reference.html">
            
                <a href="../configuration/configuration_reference.html">
            
                    
                    Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.34" data-path="../configuration/schema.html">
            
                <a href="../configuration/schema.html">
            
                    
                    Schema
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../advanced_usage/">
            
                <a href="../advanced_usage/">
            
                    
                    Advanced Usage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../advanced_usage/pipelines_as_code.html">
            
                <a href="../advanced_usage/pipelines_as_code.html">
            
                    
                    Pipelines as code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../advanced_usage/agent_auto_register.html">
            
                <a href="../advanced_usage/agent_auto_register.html">
            
                    
                    Auto Register a Remote Agent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../advanced_usage/admin_spawn_multiple_jobs.html">
            
                <a href="../advanced_usage/admin_spawn_multiple_jobs.html">
            
                    
                    Spawn multiple instances of a Job
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../advanced_usage/admin_install_multiple_agents.html">
            
                <a href="../advanced_usage/admin_install_multiple_agents.html">
            
                    
                    Multiple Agents on One Machine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../advanced_usage/dev_clean_up_when_cancel.html">
            
                <a href="../advanced_usage/dev_clean_up_when_cancel.html">
            
                    
                    Clean on Task Cancel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../advanced_usage/dev_conditional_task_execution.html">
            
                <a href="../advanced_usage/dev_conditional_task_execution.html">
            
                    
                    Conditional Task Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../advanced_usage/trigger_with_options.html">
            
                <a href="../advanced_usage/trigger_with_options.html">
            
                    
                    Trigger With Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../advanced_usage/fan_in.html">
            
                <a href="../advanced_usage/fan_in.html">
            
                    
                    Fan In
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../advanced_usage/properties.html">
            
                <a href="../advanced_usage/properties.html">
            
                    
                    Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../advanced_usage/logging.html">
            
                <a href="../advanced_usage/logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../advanced_usage/compare_pipelines.html">
            
                <a href="../advanced_usage/compare_pipelines.html">
            
                    
                    Compare Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../advanced_usage/stage_duration_chart.html">
            
                <a href="../advanced_usage/stage_duration_chart.html">
            
                    
                    Graphs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="../advanced_usage/command_repository.html">
            
                <a href="../advanced_usage/command_repository.html">
            
                    
                    Command Repository
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="../advanced_usage/one_click_backup.html">
            
                <a href="../advanced_usage/one_click_backup.html">
            
                    
                    Backup GoCD Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="../advanced_usage/cron_backup.html">
            
                <a href="../advanced_usage/cron_backup.html">
            
                    
                    Timer Based GoCD Server Backup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="../advanced_usage/config_repo.html">
            
                <a href="../advanced_usage/config_repo.html">
            
                    
                    Config Repository
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.17" data-path="../advanced_usage/other_config_options.html">
            
                <a href="../advanced_usage/other_config_options.html">
            
                    
                    Other Config Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.18" data-path="../advanced_usage/agent-health-check-api.html">
            
                <a href="../advanced_usage/agent-health-check-api.html">
            
                    
                    Agent Health Check API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../integration/">
            
                <a href="../integration/">
            
                    
                    Integrating GoCD With Other Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../extension_points/">
            
                <a href="../extension_points/">
            
                    
                    Extension Points Of GoCD
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../extension_points/plugin_user_guide.html">
            
                <a href="../extension_points/plugin_user_guide.html">
            
                    
                    Plugin User Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../extension_points/package_repository_extension.html">
            
                <a href="../extension_points/package_repository_extension.html">
            
                    
                    Package Repository Extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../extension_points/yum_repository_poller.html">
            
                <a href="../extension_points/yum_repository_poller.html">
            
                    
                    Yum Repository Poller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../extension_points/scm_extension.html">
            
                <a href="../extension_points/scm_extension.html">
            
                    
                    SCM Extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../extension_points/task_extension.html">
            
                <a href="../extension_points/task_extension.html">
            
                    
                    Task Extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../extension_points/notification_extension.html">
            
                <a href="../extension_points/notification_extension.html">
            
                    
                    Notification Extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../extension_points/configrepo_extension.html">
            
                <a href="../extension_points/configrepo_extension.html">
            
                    
                    Configuration repository Extension
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../gocd_on_kubernetes/">
            
                <a href="../gocd_on_kubernetes/">
            
                    
                    GoCD on Kubernetes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../gocd_on_kubernetes/introduction.html">
            
                <a href="../gocd_on_kubernetes/introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../gocd_on_kubernetes/gocd_helm_chart/setup_and_configuration.html">
            
                <a href="../gocd_on_kubernetes/gocd_helm_chart/setup_and_configuration.html">
            
                    
                    Setup and configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../gocd_on_kubernetes/gocd_helm_chart/setup.html">
            
                <a href="../gocd_on_kubernetes/gocd_helm_chart/setup.html">
            
                    
                    Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="../gocd_on_kubernetes/gocd_helm_chart/configure_cluster.html">
            
                <a href="../gocd_on_kubernetes/gocd_helm_chart/configure_cluster.html">
            
                    
                    Configure your Kubernetes Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="../gocd_on_kubernetes/gocd_helm_chart/helm_install.html">
            
                <a href="../gocd_on_kubernetes/gocd_helm_chart/helm_install.html">
            
                    
                    Install the GoCD Helm chart
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../gocd_on_kubernetes/designing_a_cd_pipeline/">
            
                <a href="../gocd_on_kubernetes/designing_a_cd_pipeline/">
            
                    
                    Designing a CD Pipeline
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_build_pipeline.html">
            
                <a href="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_build_pipeline.html">
            
                    
                    Create a pipeline to build application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_test_pipeline.html">
            
                <a href="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_test_pipeline.html">
            
                    
                    Create a pipeline to test the built application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_deploy_pipeline.html">
            
                <a href="../gocd_on_kubernetes/designing_a_cd_pipeline/creating_a_deploy_pipeline.html">
            
                    
                    Create a pipeline to deploy on Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.4" data-path="../gocd_on_kubernetes/designing_a_cd_pipeline/docker_workflows.html">
            
                <a href="../gocd_on_kubernetes/designing_a_cd_pipeline/docker_workflows.html">
            
                    
                    Docker workflows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.5" data-path="../gocd_on_kubernetes/gocd_helm_chart/configure_k8s_ea_plugin.html">
            
                <a href="../gocd_on_kubernetes/gocd_helm_chart/configure_k8s_ea_plugin.html">
            
                    
                    Configure the Kubernetes Elastic Agent plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../gocd_on_kubernetes/gocd_helm_chart/troubleshooting.html">
            
                <a href="../gocd_on_kubernetes/gocd_helm_chart/troubleshooting.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="./">
            
                <a href="./">
            
                    
                    FAQ/Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="ordering_of_pipelines.html">
            
                <a href="ordering_of_pipelines.html">
            
                    
                    Ordering of Pipelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="stage_old_config.html">
            
                <a href="stage_old_config.html">
            
                    
                    Historical Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="concurrent_config_modifications.html">
            
                <a href="concurrent_config_modifications.html">
            
                    
                    Concurrent Modifications to Config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="dev_understand_why_build_broken.html">
            
                <a href="dev_understand_why_build_broken.html">
            
                    
                    Why the Build is Broken?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="dev_see_artifact_as_tab.html">
            
                <a href="dev_see_artifact_as_tab.html">
            
                    
                    See artifacts as sub-tabs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="dev_save_properties.html">
            
                <a href="dev_save_properties.html">
            
                    
                    Save Properties for a Build
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.7" data-path="environment_variables.html">
            
                <a href="environment_variables.html">
            
                    
                    Using Environment variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="rm_deploy_to_environment.html">
            
                <a href="rm_deploy_to_environment.html">
            
                    
                    Deploy to an environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="tester_what_has_changed.html">
            
                <a href="tester_what_has_changed.html">
            
                    
                    See changes in new binary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="dependency_management.html">
            
                <a href="dependency_management.html">
            
                    
                    Run Tests against new Builds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="rm_what_is_deployed.html">
            
                <a href="rm_what_is_deployed.html">
            
                    
                    Check What's Deployed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" data-path="deploy_a_specific_build_to_an_environment.html">
            
                <a href="deploy_a_specific_build_to_an_environment.html">
            
                    
                    Deploy a Specific Build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.13" data-path="agent_guid_issue.html">
            
                <a href="agent_guid_issue.html">
            
                    
                    Clone/Copy an Existing Agents
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.14" data-path="job_rerun.html">
            
                <a href="job_rerun.html">
            
                    
                    How do I re-run jobs?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.15" data-path="material_update_hung.html">
            
                <a href="material_update_hung.html">
            
                    
                    Go unable to poll for changes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.16" data-path="artifact_integrity.html">
            
                <a href="artifact_integrity.html">
            
                    
                    Artifact integrity verification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.17" data-path="notifications_page.html">
            
                <a href="notifications_page.html">
            
                    
                    Email Notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.18" data-path="admin_out_of_disk_space.html">
            
                <a href="admin_out_of_disk_space.html">
            
                    
                    Running out of Disk Space
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../beta/">
            
                <a href="../beta/">
            
                    
                    Beta features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../beta/comment_on_pipeline_run.html">
            
                <a href="../beta/comment_on_pipeline_run.html">
            
                    
                    Comment on a pipeline run
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../release_history/">
            
                <a href="../release_history/">
            
                    
                    Release History
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../release_history/whats_new_in_go.html">
            
                <a href="../release_history/whats_new_in_go.html">
            
                    
                    What's New in Go
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    Gitbook - Internal
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../installation/troubleshoot_installer.html">
            
                <a href="../installation/troubleshoot_installer.html">
            
                    
                    Ignore this
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="dev_use_current_revision_in_build.html">
            
                <a href="dev_use_current_revision_in_build.html">
            
                    
                    Ignore this
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Using Environment variables</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="using-environment-variables-in-gocd"><a name="using-environment-variables-in-gocd" class="plugin-anchor" href="#using-environment-variables-in-gocd"><i class="fa fa-link" aria-hidden="true"></i></a>Using Environment Variables in GoCD</h1>
<h2 id="accessing-environment-variables-in-tasks"><a name="accessing-environment-variables-in-tasks" class="plugin-anchor" href="#accessing-environment-variables-in-tasks"><i class="fa fa-link" aria-hidden="true"></i></a>Accessing environment variables in tasks</h2>
<p>Every task in GoCD is provided with a set of environment variables, as a part of the context, when it is run. Depending
on the kind of process used in the task, environment variables are accessed differently. Presented below are some common
usage scenarios, with the assumption that a job has been configured with an environment variable called <code>ENV_VAR_1</code>,
with the value <code>VALUE_1</code>.</p>
<h3 id="1-using-an-environment-variable-in-a-custom-command-on-unixlinux"><a name="1-using-an-environment-variable-in-a-custom-command-on-unixlinux" class="plugin-anchor" href="#1-using-an-environment-variable-in-a-custom-command-on-unixlinux"><i class="fa fa-link" aria-hidden="true"></i></a>1. Using an environment variable in a custom command on Unix/Linux</h3>
<p>A very common use case for environment variables is to use them as arguments for a custom command
(<a href="../configuration/managing_pipelines.html#add-a-new-task-to-an-existing-job">&quot;exec task&quot; in GoCD</a>). Assuming
that you want to pass the environment variable <code>ENV_VAR_1</code> to the <code>ls</code> command, you might be tempted to try something
like this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/1_wrong_env_var_usage.png" alt="Figure 1: Wrong usage of environment variable" id="wrong_env_var_usage">
  <figcaption>Figure 1: Wrong usage of environment variable in custom command task (Will not work)</figcaption>
</figure>

<p>When run, it will end with a message like this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/2_wrong_env_var_usage_result.png" alt="Figure 2: Result of wrong usage of environment variable" id="wrong_env_var_usage_result">
  <figcaption>Figure 2: Result of wrong usage of environment variable in custom command task</figcaption>
</figure>

<p>As you can see, the environment variable, <code>$ENV_VAR_1</code> was passed in literally to the command <code>ls</code> and was not
interpolated. What is happening here is that GoCD is directly executing the command and passing in the parameters,
without involving a shell like bash or sh in the middle. When a command such as <code>ls $ENV_VAR_1</code> is executed from the
command-line, the shell process is the one that interpolates the environment variable and replaces it with its value, so
that the <code>ls</code> command does not see it.</p>
<p>So, we need to do the same here. The correct way to invoke this, so that the interpolation of the environment variable
works is like this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/3_right_env_var_usage.png" alt="Figure 3: Correct usage of environment variable" id="right_env_var_usage">
  <figcaption>Figure 3: Correct usage of environment variable in custom command task</figcaption>
</figure>

<p>When run, it will end with a message like this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/4_right_env_var_usage_result.png" alt="Figure 4: Result of correct usage of environment variable" id="right_env_var_usage_result">
  <figcaption>Figure 4: Result of correct usage of environment variable in custom command task</figcaption>
</figure>

<p>Even though the command failed in this example, the value of the environment variable was interpolated. You can replace
<code>ls</code> with some other command, but the concept remains the same.</p>
<h3 id="2-using-an-environment-variable-in-a-custom-command-on-windows"><a name="2-using-an-environment-variable-in-a-custom-command-on-windows" class="plugin-anchor" href="#2-using-an-environment-variable-in-a-custom-command-on-windows"><i class="fa fa-link" aria-hidden="true"></i></a>2. Using an environment variable in a custom command on Windows</h3>
<p>This is easier than using it in a shell script because, on Windows GoCD agents, commands are executed by wrapping them
in <code>cmd /c</code>. So, environment variables get interpolated automatically. So, with a configuration such as this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/7_env_var_windows_command.png" alt="Figure 5: Usage of environment variable on Windows" id="env_var_usage_windows">
  <figcaption>Figure 5: Usage of environment variable on Windows</figcaption>
</figure>

<p>When run, it will end with a message like this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/8_env_var_windows_command_result.png" alt="Figure 6: Result of usage of environment variable on Windows" id="env_var_usage_windows_result">
  <figcaption>Figure 8: Result of usage of environment variable on Windows</figcaption>
</figure>

<p>Similarly, it works when used in a batch file (say, &quot;env_var.cmd&quot;), with content such as this:</p>
<pre><code>echo Environment variable ENV_VAR_1 is: %ENV_VAR_1%
</code></pre><p>Notice that, unlike on Unix/Linux, the way to access an environment variable on Windows is to use %, instead of $.</p>
<h3 id="3-using-an-environment-variable-in-a-shell-script---on-unixlinux"><a name="3-using-an-environment-variable-in-a-shell-script---on-unixlinux" class="plugin-anchor" href="#3-using-an-environment-variable-in-a-shell-script---on-unixlinux"><i class="fa fa-link" aria-hidden="true"></i></a>3. Using an environment variable in a shell-script - On Unix/Linux</h3>
<p>Using an environment variable inside a shell-script is not special at all. You can directly use it, as you would any
environment variable. For instance, a shell-script with this content, will work when executed normally:</p>
<pre><code>#!/bin/sh

echo &quot;Value of environment variable ENV_VAR_1 is: $ENV_VAR_1&quot;
</code></pre><p>This works when executed directly, with a config such as this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/5_env_var_in_script.png" alt="Figure 9: Usage of environment variable in a shell-script" id="env_var_usage_script">
  <figcaption>Figure 9: Usage of environment variable in a shell-script</figcaption>
</figure>

<p>When run, it will end with a message like this:</p>
<figure class="concept_image">
  <img src="../resources/images/faq/6_env_var_in_script_result.png" alt="Figure 10: Result of usage of environment variable in a shell-script" id="env_var_usage_script_result">
  <figcaption>Figure 10: Result of usage of environment variable in a shell-script</figcaption>
</figure>


<h3 id="4-using-an-environment-variable-in-a-ruby-script"><a name="4-using-an-environment-variable-in-a-ruby-script" class="plugin-anchor" href="#4-using-an-environment-variable-in-a-ruby-script"><i class="fa fa-link" aria-hidden="true"></i></a>4. Using an environment variable in a ruby script</h3>
<p>Again, using an environment variable inside a ruby script is not special at all. This has been mentioned here, just to
show that scripts written in different languages have to use different mechanisms to access environment variables. A
ruby script such as this works as expected:</p>
<pre><code>#!/usr/bin/env ruby

puts &quot;Environment variable ENV_VAR_1 has the value: #{ENV[&apos;ENV_VAR_1&apos;]}&quot;
</code></pre><h2 id="standard-gocd-environment-variables"><a name="standard-gocd-environment-variables" class="plugin-anchor" href="#standard-gocd-environment-variables"><i class="fa fa-link" aria-hidden="true"></i></a>Standard GoCD environment variables</h2>
<p>The examples above mention a custom environment variable set at the job level. However, there are some standard
environment variables available during every job run, set by GoCD. They are:</p>
<table>
<thead>
<tr>
<th>Environment Variable</th>
<th>Description</th>
<th>Example contents</th>
</tr>
</thead>
<tbody>
<tr>
<td>GO_SERVER_URL</td>
<td>Base URL for the GoCD server (including the context root)</td>
<td><code>https://127.0.0.1:8154/go</code></td>
</tr>
<tr>
<td>GO_ENVIRONMENT_NAME</td>
<td>The name of the current environment. This is only set if the environment is specified. Otherwise the variable is not set.</td>
<td><code>Development</code></td>
</tr>
<tr>
<td>GO_PIPELINE_NAME</td>
<td>Name of the current pipeline being run</td>
<td><code>main</code></td>
</tr>
<tr>
<td>GO_PIPELINE_COUNTER</td>
<td>How many times the current pipeline has been run.</td>
<td><code>2345</code></td>
</tr>
<tr>
<td>GO_PIPELINE_LABEL</td>
<td>Label for the current pipeline. By default, this is set to the pipeline count (this can be set to a <a href="../configuration/build_labelling.html">custom pipeline label</a>)</td>
<td><code>1.1.2345</code></td>
</tr>
<tr>
<td>GO_STAGE_NAME</td>
<td>Name of the current stage being run</td>
<td><code>dev</code></td>
</tr>
<tr>
<td>GO_STAGE_COUNTER</td>
<td>How many times the current stage has been run</td>
<td><code>1</code></td>
</tr>
<tr>
<td>GO_JOB_NAME</td>
<td>Name of the current job being run</td>
<td><code>linux-firefox</code></td>
</tr>
<tr>
<td>GO_TRIGGER_USER</td>
<td>Username of the user that triggered the build. This will have one of three possible values<ul><li>anonymous - if there is no security</li><li>username of the user, who triggered the build</li><li>changes, if SCM changes auto-triggered the build</li><li>timer, if the pipeline is triggered at a scheduled time</li></ul></td>
<td><code>changes</code></td>
</tr>
<tr>
<td>GO_DEPENDENCY_LABEL_${pipeline name}</td>
<td>The label of the upstream pipeline (when using <a href="../configuration/managing_dependencies.html">dependent pipelines</a>)</td>
<td><code>1.0.3456</code></td>
</tr>
<tr>
<td>GO_DEPENDENCY_LOCATOR_${pipeline name}</td>
<td>The locator of the upstream pipeline (when using <a href="../configuration/managing_dependencies.html">dependent pipelines</a>), which can be used to create the URL for RESTful API calls</td>
<td><code>upstream/1.0.3456/dev/1</code></td>
</tr>
<tr>
<td>GO_REVISION</td>
<td>The current source control revision being run (when using only one material)</td>
<td><code>123</code></td>
</tr>
<tr>
<td>GO_REVISION_${material name or dest}</td>
<td>If you are using more than one material in your pipeline, the revision for each material is available. The environment variable is named with the material&apos;s &quot;materialName&quot; attribute. If &quot;materialName&quot; is not defined, then &quot;dest&quot; directory is used. Non alphanumeric characters are replaced with underscores (&quot;_&quot;).</td>
<td><code>123</code></td>
</tr>
<tr>
<td>GO_TO_REVISION</td>
<td>If the pipeline was triggered with a series of source control revisions(say 121 to 123), then this environment variable has the value of the latest revision (when using only one material). This is always same as GO_REVISION.</td>
<td><code>123</code></td>
</tr>
<tr>
<td>GO_TO_REVISION_${material name or dest}</td>
<td>If you are using more than one material in your pipeline, the &apos;to&apos; revision for each material is available. The environment variable is named with the material&apos;s &quot;materialName&quot; attribute. If &quot;materialName&quot; is not defined, then &quot;dest&quot; directory is used. Non alphanumeric characters are replaced with underscores (&quot;_&quot;).</td>
<td><code>123</code></td>
</tr>
<tr>
<td>GO_FROM_REVISION</td>
<td>If the pipeline was triggered with a series of source control revisions(say 121 to 123), then this environment variable has the value of the oldest revision (when using only one material)</td>
<td><code>121</code></td>
</tr>
<tr>
<td>GO_FROM_REVISION_${material name or dest}</td>
<td>If you are using more than one material in your pipeline, the &apos;from&apos; revision for each material is available. The environment variable is named with the material&apos;s &quot;materialName&quot; attribute. If &quot;materialName&quot; is not defined, then &quot;dest&quot; directory is used. Non alphanumeric characters are replaced with underscores (&quot;_&quot;).</td>
<td><code>121</code></td>
</tr>
<tr>
<td>GO_MATERIAL_HAS_CHANGED</td>
<td>A boolean value indicating if the material revision has changed since the previous run (when using only one material)</td>
<td><code>true</code></td>
</tr>
<tr>
<td>GO_MATERIAL_${material name or dest}_HAS_CHANGED</td>
<td>When more than one material is configured for your pipeline, a flag would be available for each of the materials available to denote if the corresponding material&apos;s revision has changed since the previous run. The environment variable is named with the material&apos;s &quot;materialName&quot; attribute. If &quot;materialName&quot; is not defined, then &quot;dest&quot; directory is used. Non alphanumeric characters are replaced with underscores (&quot;_&quot;).</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
<h2 id="use-current-revision-in-a-build"><a name="use-current-revision-in-a-build" class="plugin-anchor" href="#use-current-revision-in-a-build"><i class="fa fa-link" aria-hidden="true"></i></a>Use current revision in a build</h2>
<p>It is often useful to use the current version control revision number in your build. For example, you might want to use the svn version number in the name of your binary for tracing purposes. GoCD makes much of this information available to your build scripts as environment variables.</p>
<h3 id="example-usages"><a name="example-usages" class="plugin-anchor" href="#example-usages"><i class="fa fa-link" aria-hidden="true"></i></a>Example usages</h3>
<h3 id="one-material"><a name="one-material" class="plugin-anchor" href="#one-material"><i class="fa fa-link" aria-hidden="true"></i></a>One material</h3>
<p>For this example, we are going to assume we are using a single <a href="http://subversion.tigris.org/" target="_blank">Subversion</a> repository for our source control system and we have a job set up to call the ant target &quot;dist&quot;.</p>
<ul>
<li>Add the following target to your ant <code>build.xml</code></li>
</ul>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test-build&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">environment</span>=<span class="hljs-string">&quot;env&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">target</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dist&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">echo</span> <span class="hljs-attr">message</span>=<span class="hljs-string">&quot;Building pipeline ${env.GO_PIPELINE_NAME}&quot;</span>
          <span class="hljs-attr">file</span>=<span class="hljs-string">&quot;deploy-${env.GO_REVISION}.txt&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<ul>
<li>Now, when GoCD runs the &apos;my-app&apos; pipeline on revision 123, the file deploy-123.txt will be created, with the following content:</li>
</ul>
<pre><code>deploy-123.txt

Building pipeline my-app
</code></pre><h4 id="multiple-materials"><a name="multiple-materials" class="plugin-anchor" href="#multiple-materials"><i class="fa fa-link" aria-hidden="true"></i></a>Multiple materials</h4>
<p>For this example we are going to assume we are using a <a href="http://subversion.tigris.org/" target="_blank">Subversion</a> repository containing
the code and a <a href="http://www.selenic.com/mercurial/wiki/" target="_blank">Mercurial</a> repository containing configuration scripts.</p>
<ul>
<li>Ensure the pipeline materials look like this</li>
</ul>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">pipeline</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;multiple-materials&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">materials</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svn</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;...&quot;</span> <span class="hljs-attr">dest</span>=<span class="hljs-string">&quot;code&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">hg</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;...&quot;</span> <span class="hljs-attr">dest</span>=<span class="hljs-string">&quot;configuration/latest&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">materials</span>&gt;</span>
  ...
<span class="hljs-tag">&lt;/<span class="hljs-name">pipeline</span>&gt;</span>
</code></pre>
<ul>
<li>Add the following target to your ant <code>build.xml</code></li>
</ul>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;my-app&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">environment</span>=<span class="hljs-string">&quot;env&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">target</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dist&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">echo</span> <span class="hljs-attr">message</span>=<span class="hljs-string">&quot;Building pipeline ${env.GO_PIPELINE_NAME}&quot;</span>
          <span class="hljs-attr">file</span>=<span class="hljs-string">&quot;deploy-${env.GO_REVISION_CODE}.txt&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">echo</span> <span class="hljs-attr">message</span>=<span class="hljs-string">&quot;Configuration version: ${env.GO_REVISION_CONFIGURATION_LATEST}&quot;</span>
          <span class="hljs-attr">file</span>=<span class="hljs-string">&quot;deploy-${env.GO_REVISION_CODE}.txt&quot;</span>
          <span class="hljs-attr">append</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<ul>
<li>Now, when GoCD runs the &apos;my-app&apos; pipeline with the code at revision &apos;123&apos; and the configuration at revision &apos;59cab75ccf231b9e338c96cff0f4adad5cb7d335&apos;, the file deploy-123.txt will be created with the following content:</li>
</ul>
<pre><code>deploy-123.txt

Building pipeline my-app
Configuration version: 59cab75ccf231b9e338c96cff0f4adad5cb7d335
</code></pre><h2 id="pass-environment-variables-to-a-job"><a name="pass-environment-variables-to-a-job" class="plugin-anchor" href="#pass-environment-variables-to-a-job"><i class="fa fa-link" aria-hidden="true"></i></a>Pass environment variables to a job</h2>
<p>You can specify variables for Environments, Pipelines, Stages and Jobs. If a variable is specified more than once, the
most specific scope is used. For example if you specify variable FOO=&apos;foo&apos; for an environment, and FOO=&apos;bar&apos; for a Job,
then the variable will have the value &apos;bar&apos; when the job runs.</p>
<h2 id="setting-variables-on-an-environment"><a name="setting-variables-on-an-environment" class="plugin-anchor" href="#setting-variables-on-an-environment"><i class="fa fa-link" aria-hidden="true"></i></a>Setting variables on an environment</h2>
<p>You can add variables to an environment by editing the configuration of the environment. Click on the name of the environment to edit configuration.</p>
<p><img src="../resources/images/env_variables_environment.png" alt=""></p>
<p>You specify variables on an environment in the Config XML by adding an <a href="../configuration/configuration_reference.html#environmentvariables">&lt; environmentvariables &gt;</a> section to the environment definition.</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;UAT&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">environmentvariables</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">variable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;FOO&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>bar<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">variable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">variable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;MULTIPLE_LINES&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Variable values can have
            multiple lines (assuming that your operating system supports this correctly).
            <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">variable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">variable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;COMPLEX&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>&lt;![CDATA[&lt;complex
            values&gt;]]&gt;
            <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">variable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">environmentvariables</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">agents</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">pipelines</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
</code></pre>
<p>You can add variables for a job by editing the job configuration.</p>
<p><img src="../resources/images/env_variables_job.png" alt=""></p>
<p>You specify variables on an job in the Config XML by adding an <a href="../configuration/configuration_reference.html#environmentvariables">&lt; environmentvariables &gt;</a> section to the job definition.</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">job</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;my-job&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">environmentvariables</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">variable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;FOO&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>bar<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">variable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">variable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;MULTIPLE_LINES&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Variable values can have
            multiple lines (assuming that your operating system supports this correctly).
            <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">variable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">variable</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;COMPLEX&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>&lt;![CDATA[&lt;complex
            values&gt;]]&gt;
            <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">variable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">environmentvariables</span>&gt;</span>
    ...
<span class="hljs-tag">&lt;/<span class="hljs-name">job</span>&gt;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="dev_save_properties.html" class="navigation navigation-prev " aria-label="Previous page: Save Properties for a Build">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="rm_deploy_to_environment.html" class="navigation navigation-next " aria-label="Next page: Deploy to an environment">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"description":"Using environment variables in GoCD","keywords":"environment variable, GoCD configuration, GoCD tasks, custom command, shell-script, ruby script,","title":"Using Environment variables","level":"1.10.7","depth":2,"next":{"title":"Deploy to an environment","level":"1.10.8","depth":2,"path":"faq/rm_deploy_to_environment.md","ref":"faq/rm_deploy_to_environment.md","articles":[]},"previous":{"title":"Save Properties for a Build","level":"1.10.6","depth":2,"path":"faq/dev_save_properties.md","ref":"faq/dev_save_properties.md","articles":[]},"dir":"ltr"},"config":{"plugins":["highlight@2.0.3","anchors@0.7.1","ga@1.0.1","include@0.1.0","toc@0.0.1","redirect@0.0.7","edit-link@2.0.2","sitemap-general@0.1.1","livereload"],"styles":{"website":"resources/stylesheets/website.css"},"pluginsConfig":{"livereload":{},"include":{},"toc":{"addClass":true,"className":"toc"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sitemap-general":{"prefix":"https://docs.gocd.org/current/"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"ga":{"configuration":{"allowLinker":true},"token":"UA-48357651-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"redirect":{},"edit-link":{"label":"Edit This Page","base":"https://github.com/gocd/docs.go.cd/tree/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"currentBaseUrl":"https://docs.gocd.org/current","theme":"default","pdf":{"pageNumbers":false,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"toc":true},"structure":{"langs":"LANGS.md","readme":"INTRO.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"GoCD User Documentation","links":{"sidebar":{"Back to GoCD.org":"https://www.gocd.org","Contribute":"https://github.com/gocd/docs.go.cd/"},"sharing":{"google":"https://www.gocd.org","facebook":"https://www.gocd.org","twitter":"https://www.gocd.org","all":"https://www.gocd.org"}},"gitbook":"3.2.2","description":"Help documentation for GoCD."},"file":{"path":"faq/environment_variables.md","mtime":"2018-10-10T07:39:33.631Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2019-02-26T06:48:26.198Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

